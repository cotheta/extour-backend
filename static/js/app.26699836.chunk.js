(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{113:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.auth=t.db=void 0;var a=r(n(338));n(339);var o={apiKey:"AIzaSyCohJNZunkRsnr-u16eC5Lmc9foW490xXA",authDomain:"mydatabase-f1f0a.firebaseapp.com",databaseURL:"https://mydatabase-f1f0a.firebaseio.com",projectId:"mydatabase-f1f0a",storageBucket:"mydatabase-f1f0a.appspot.com",messagingSenderId:"1071083294055",appId:"1:1071083294055:web:26bb4ffb5a805c5474f3c2",measurementId:"G-W7C97H7EN5"},l=a.default.initializeApp(o);a.default.apps.length||a.default.initializeApp(o);var i=l.firestore();t.db=i;var c=l.auth();t.auth=c},342:function(e,t,n){n(343),e.exports=n(344)},343:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/extour-backend/expo-service-worker.js",{scope:"/extour-backend/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},535:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.createElement(l.default,null)};var a=r(n(1)),o=n(4),l=r(n(536));o.StyleSheet.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},536:function(e,t,n){var r=n(2),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6)),l=a(n(8)),i=a(n(9)),c=a(n(7)),u=a(n(10)),f=r(n(1)),s=n(4),d=n(46),h=n(584),m=a(n(641)),g=a(n(893)),y=a(n(903)),p=a(n(911)),b=n(113),v=n(276);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var E=(0,h.createStackNavigator)(),k=function(e){(0,u.default)(n,e);var t=w(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).Login=function(e){var t=e.navigation;return f.default.createElement(s.View,{style:x.login},f.default.createElement(s.View,null,f.default.createElement(s.TextInput,{style:x.textInput,placeholder:"Username",onChangeText:function(e){return r.setState({email:e})}}),f.default.createElement(s.TextInput,{style:x.textInput,placeholder:"Password",secureTextEntry:!0,onChangeText:function(e){return r.setState({password:e})}})),f.default.createElement(s.View,{style:x.button},f.default.createElement(s.Button,{title:"Log in",color:"#75999B",onPress:function(){try{b.auth.signInWithEmailAndPassword(r.state.email,r.state.password).then((function(){return t.navigate("Collections")}))}catch(e){console.log(e.message)}}})))},r.state={email:"",password:"",test:!1},r}return(0,l.default)(n,[{key:"render",value:function(){return f.default.createElement(d.NavigationContainer,null,f.default.createElement(E.Navigator,{initialRouteName:"Login",screenOptions:{headerShown:!0}},f.default.createElement(E.Screen,{name:"Login",component:this.Login,options:{headerStyle:{backgroundColor:"#5B7B87"},headerTintColor:"#ffff",headerTitleStyle:{fontWeight:"bold"}}}),f.default.createElement(E.Screen,{name:"Collections",component:m.default,options:function(e){var t=e.navigation;return{headerStyle:{backgroundColor:"#5B7B87"},headerTintColor:"#ffff",headerTitleStyle:{fontWeight:"bold"},headerLeft:null,headerRight:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(s.Text,{style:{color:"#ffff",fontWeight:"bold",marginTop:5}},"Log Out"),f.default.createElement(v.Ionicons,{name:"md-exit",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.push("Login")}}))}}}}),f.default.createElement(E.Screen,{name:"Items",component:g.default,options:function(e){var t=e.navigation;return{headerStyle:{backgroundColor:"#5B7B87"},headerTintColor:"#ffff",headerTitleStyle:{fontWeight:"bold"},headerLeft:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(v.AntDesign,{name:"arrowleft",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.navigate("Collections")}}))},headerRight:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(s.Text,{style:{color:"#ffff",fontWeight:"bold",marginTop:5}},"Log Out"),f.default.createElement(v.Ionicons,{name:"md-exit",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.push("Login")}}))}}}}),f.default.createElement(E.Screen,{name:"AddItem",component:y.default,options:function(e){var t=e.navigation;return{headerStyle:{backgroundColor:"#5B7B87"},headerTintColor:"#ffff",headerTitleStyle:{fontWeight:"bold"},headerLeft:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(v.AntDesign,{name:"arrowleft",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.navigate("Items")}}))},headerRight:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(s.Text,{style:{color:"#ffff",fontWeight:"bold",marginTop:5}},"Log Out"),f.default.createElement(v.Ionicons,{name:"md-exit",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.push("Login")}}))}}}}),f.default.createElement(E.Screen,{name:"EditItem",component:p.default,options:function(e){var t=e.navigation;return{headerStyle:{backgroundColor:"#5B7B87"},headerTintColor:"#ffff",headerTitleStyle:{fontWeight:"bold"},headerLeft:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(v.AntDesign,{name:"arrowleft",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.navigate("Items")}}))},headerRight:function(){return f.default.createElement(s.View,{style:{flexDirection:"row",marginRight:25}},f.default.createElement(s.Text,{style:{color:"#ffff",fontWeight:"bold",marginTop:5}},"Log Out"),f.default.createElement(v.Ionicons,{name:"md-exit",size:26,style:{color:"#ffff",marginLeft:15},onPress:function(){return t.push("Login")}}))}}}})))}}]),n}(f.Component);t.default=k;var x=s.StyleSheet.create({login:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#fffff"},text:{marginBottom:"5%",fontSize:28},textInput:{width:400,textAlign:"center",fontSize:22,backgroundColor:"#fff",borderWidth:.9,marginTop:5,borderRadius:7},button:{width:100,marginTop:30},skip:{marginTop:100,textDecorationLine:"underline"}})},641:function(e,t,n){var r=n(2),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6)),l=a(n(8)),i=a(n(9)),c=a(n(7)),u=a(n(10)),f=r(n(1)),s=n(4),d=(n(276),n(313),n(860));n(863);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var m=[{collection:"categories"},{collection:"categoriesGR"},{collection:"categoriesALB"},{collection:"places"},{collection:"placesGR"},{collection:"placesALB"}],g=function(e){(0,u.default)(n,e);var t=h(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={},r}return(0,l.default)(n,[{key:"render",value:function(){var e=this;return f.default.createElement(s.View,null,f.default.createElement(s.SafeAreaView,null,f.default.createElement(d.FlatGrid,{itemDimension:.3*s.Dimensions.get("window").width,items:m,fixed:!1,renderItem:function(t){var n=t.item;return f.default.createElement(s.TouchableHighlight,{onPress:function(){e.props.navigation.push("Items",{collection:n.collection})}},f.default.createElement(s.View,{style:[y.itemContainer]},f.default.createElement(s.Text,{style:y.itemName},n.collection)))}})))}}]),n}(f.Component);t.default=g;var y=s.StyleSheet.create({itemContainer:{alignItems:"center",justifyContent:"center",height:150,backgroundColor:"#75999B",borderRadius:5,margin:20},itemName:{fontFamily:"sans-serif-condensed",fontSize:20,fontWeight:"bold",color:"#ffff",textAlign:"center"}})},893:function(e,t,n){var r=n(2),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(12)),l=a(n(6)),i=a(n(8)),c=a(n(9)),u=a(n(7)),f=a(n(10)),s=r(n(1)),d=n(4),h=n(113),m=n(313),g=n(54),y=a(n(338));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var b=null,v=null,w=[{}],E=null,k=null,x=0,O=[{}],T=[{}],j=function(e){(0,f.default)(n,e);var t=p(n);function n(e){var r;(0,l.default)(this,n),(r=t.call(this,e))._headers=function(e,t){for(var n=[],a=function(t){n.push(s.default.createElement(d.View,{style:S.headerContainer},s.default.createElement(d.Text,{key:t,numberOfLines:4,style:S.headerText},Object.keys(e)[t]),s.default.createElement(m.Icon,{name:"times-circle",type:"font-awesome",iconStyle:{width:15,marginRight:15},color:"#ffffff",onPress:function(){return r.deleteProperty(Object.keys(e)[t])}})))},o=0;o<t+1;o++)a(o);return n},r.allCategories=function(e,t){for(var n=[],r=0;r<t+1;r++)n.push(s.default.createElement(d.View,{style:S.itemContainer},void 0==Object.values(e)[r]?s.default.createElement(d.Text,{key:r,numberOfLines:4,style:S.itemText},Object.values(e)[r]):Object.values(e)[r].search("/")>0?s.default.createElement(d.View,{style:S.itemText},s.default.createElement(d.Image,{style:{width:60,height:60,margin:10},source:{uri:Object.values(e)[r]}})):s.default.createElement(d.Text,{key:r,numberOfLines:4,style:S.itemText},Object.values(e)[r])));return n},r.allPlaces=function(e,t){for(var n=[],r=0;r<t+1;r++)n.push(s.default.createElement(d.View,{style:S.itemContainer},void 0==Object.values(e)[r]?null:"image"==Object.keys(e)[r].substring(0,5)?s.default.createElement(d.View,{style:S.itemText},s.default.createElement(d.Image,{style:{width:100,height:80,margin:10},source:{uri:Object.values(e)[r]}})):s.default.createElement(d.Text,{key:r,numberOfLines:4,style:S.itemText},Object.values(e)[r])));return n},r.header=function(){var e=[];return e.push(s.default.createElement(d.SafeAreaView,{style:{width:250*x}},s.default.createElement(d.FlatList,{data:w,keyExtractor:function(e){return e.id},extraData:w,renderItem:function(e){var t=e.item;return s.default.createElement(d.View,{style:{flexDirection:"row"}},r._headers(t,Object.keys(t).length))}}))),e},r.deleteProperty=function(e){r.unsubscribe=r.ref.onSnapshot((function(t){t.forEach((function(t){h.db.collection(b).doc(t.id).update((0,o.default)({},e,y.default.firestore.FieldValue.delete()))}))})),alert(e+" deleted"),w=[],r.state.trig=e,r.forceUpdate()},r.state={records:[],property:"",trig:"t"},r.allRecords=[];var a=r.props.route.params.collection;return v=a,b="p"==a.charAt(0)?"places":"categories",r.ref=h.db.collection(a),r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=0;this.unsubscribe=this.ref.onSnapshot((function(n){n.forEach((function(n){E=n,Object.keys(E.data()).length>t&&(t=Object.keys(E.data()).length,k=n);var r=Object.keys(n.data()).length+1;!(x>r)&&(x=r);for(var a={id:n.id},o=0;o<Object.keys(E.data()).length;o++)a[[Object.keys(n.data())[o]]]=n.data()[Object.keys(E.data())[o]];e.allRecords.push(a)}));for(var r={id:"Key"},a=0;a<Object.keys(k.data()).length;a++)console.log("THIS.STATE.TRIG: "+e.state.trig),console.log("LEN: "+Object.keys(k.data()).length),console.log("---\x3e "+Object.keys(E.data())[a]),Object.keys(E.data())[a]==e.state.trig?console.log("Undefined header"):r[[Object.keys(E.data())[a].toLowerCase()]]=E.data()[Object.keys(E.data())[a].toLowerCase()];console.log("oeproeproe: "+e.state.trig),"places"==b?O[0]=r:T[0]=r,"t"==e.state.trig?w="places"==b?O:T:alert("gtxs"),e.setState({records:e.allRecords})}))}},{key:"addProperty",value:function(){var e=this,t="";this.unsubscribe=this.ref.onSnapshot((function(n){n.forEach((function(n){n.id==t?console.log("Same id"):(t=n.id,h.db.collection(b).doc(n.id).set((0,o.default)({},e.state.property,""),{merge:!0})),e.allRecords.push((0,o.default)({},e.state.property,n.data()[e.state.property]))}))})).then((function(){console.log("Document successfully updated!"),this.setState({property:""})})).catch((function(e){console.error("Error updating document: ",e),this.setState({property:""})}))}},{key:"componentWillUnmount",value:function(){w=null,x=0}},{key:"render",value:function(){var e=this;return s.default.createElement(d.ScrollView,{horizontal:250*(x+1)>d.Dimensions.get("window").width},s.default.createElement(d.ScrollView,null,s.default.createElement(d.TouchableHighlight,{style:{height:60,margin:20},onPress:function(){return e.props.navigation.push("AddItem",{collection:v,myItem:k})}},s.default.createElement(d.View,{style:{flexDirection:"row",width:200,height:60,alignItems:"center",justifyContent:"center",backgroundColor:"#75999B",borderWidth:1}},s.default.createElement(m.Icon,{name:"plus",type:"font-awesome",iconStyle:{width:15,marginRight:15},color:"#ffffff"}),s.default.createElement(d.Text,{style:{fontSize:17,fontWeight:"bold",color:"#ffffff"}},"Add Item"))),s.default.createElement(d.View,{style:{flexDirection:"row",margin:20,borderLeftWidth:1}},s.default.createElement(d.SafeAreaView,{style:{width:250*x}},s.default.createElement(d.FlatList,{data:this.state.records,keyExtractor:function(e){return e.id},extraData:this.state.records,renderItem:function(t){var n=t.item;return"places"==b?s.default.createElement(g.TouchableOpacity,{onPress:function(){return e.props.navigation.push("EditItem",{collection:v,item:n})},activeOpacity:.5},s.default.createElement(d.View,{style:{flexDirection:"row"}},e.allPlaces(n,Object.keys(n).length),s.default.createElement(m.Icon,{name:"plus",type:"font-awesome",iconStyle:{width:15,marginRight:15},color:"#ffffff"}))):s.default.createElement(g.TouchableOpacity,{onPress:function(){return e.props.navigation.push("EditItem",{collection:v,item:n})},activeOpacity:.5},s.default.createElement(d.View,{style:{flexDirection:"row"}},e.allCategories(n,Object.keys(n).length)))},ListHeaderComponent:this.header})),s.default.createElement(d.View,{style:{flexDirection:"row",backgroundColor:"green",width:200,height:60,alignItems:"center",justifyContent:"center",borderWidth:.1,borderLeftWidth:0}},s.default.createElement(d.TextInput,{style:{textAlign:"center",fontFamily:"sans-serif-condensed",fontSize:17,fontWeight:"bold",color:"#ffffff"},placeholder:"+ New Property",placeholderTextColor:"#ffffff",onChangeText:function(t){return e.setState({property:t})},onSubmitEditing:function(){return e.addProperty()}})))))}}]),n}(s.Component);t.default=j;var S=d.StyleSheet.create({headerContainer:{flexDirection:"row",justifyContent:"center",width:250,height:60,backgroundColor:"grey",borderWidth:.1,borderLeftWidth:0},headerText:{textAlign:"center",justifyContent:"center",width:250,fontFamily:"sans-serif-condensed",fontSize:17,fontWeight:"bold"},itemContainer:{flexDirection:"row",height:100,backgroundColor:"white"},itemText:{alignItems:"center",justifyContent:"center",width:250,borderWidth:.1,borderTopWidth:0,borderLeftWidth:0}})},903:function(e,t,n){var r=n(2),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(25)),l=a(n(12)),i=a(n(6)),c=a(n(8)),u=a(n(9)),f=a(n(7)),s=a(n(10)),d=r(n(1)),h=n(4),m=n(113),g=n(54),y=r(n(340));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var b=null,v=null,w=null,E=[{}],k=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var r;(0,i.default)(this,n),(r=t.call(this,e)).pickImage=function(e){var t,n;return o.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.default.awrap(y.launchImageLibraryAsync({mediaTypes:y.MediaTypeOptions.All,allowsEditing:!0,aspect:[4,3],quality:1}));case 3:(t=a.sent).cancelled||r.setState((n={},(0,l.default)(n,"new"+e,t.uri),(0,l.default)(n,"show",!0),n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]],Promise)},r.addCategory=function(){for(var e=[],t=function(t){e.push(d.default.createElement(h.View,null,"icon"==Object.keys(E[0])[t]?d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:x.inputTitle},Object.keys(E[0])[t]),d.default.createElement(g.TouchableOpacity,{onPress:function(){return r.pickImage(Object.keys(E[0])[t])}},d.default.createElement(h.Text,{style:x.iconPick},1==r.state.show?d.default.createElement(h.Image,{style:{width:120,height:120},source:{uri:r.state["new"+Object.keys(E[0])[t]]}}):"Upload Icon"))):d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:x.inputTitle},Object.keys(E[0])[t]),d.default.createElement(g.TextInput,{style:x.inputText,placeholder:Object.keys(E[0])[t],onChangeText:function(e){r.setState((0,l.default)({},"new"+Object.keys(E[0])[t],e))}}))))},n=1;n<w;n++)t(n);return e},r.onPressAdd=function(){for(var e={},t=1;t<w;t++)void 0==r.state["new"+Object.keys(E[0])[t]]?r.setState((0,l.default)({},"new"+Object.keys(E[0])[t],"")):console.log(Object.keys(E[0])[t]+": "+r.state["new"+Object.keys(E[0])[t]]),e[[Object.keys(E[0])[t]]]=r.state["new"+Object.keys(E[0])[t]];r.ref.add(e).then((function(e){for(var t=1;t<w;t++)r.setState((0,l.default)({},Object.keys(E[0])[t],""));r.props.navigation.push("Items",{collection:b})})).catch((function(e){console.log("New item wasnt saved");for(var t=1;t<w;t++)r.setState((0,l.default)({},Object.keys(E[0])[t],""))}))},r.state={show:!1,records:[]};var a=r.props.route.params.collection,c=r.props.route.params.myItem;b=a,v=c,r.ref=m.db.collection(b);for(var u={id:"Key"},f=Object.values(v.data()).length+1,s=0;s<Object.keys(v.data()).length;s++)u[[Object.keys(v.data())[s].toLowerCase()]]=v.data()[Object.keys(v.data())[s].toLowerCase()];E[0]=u,w=f;for(var p=1;p<w;p++)console.log("---\x3e new"+Object.keys(E[0])[p]),r.state=(0,l.default)({},"new"+Object.keys(E[0])[p],"");return r}return(0,c.default)(n,[{key:"addPlace",value:function(){for(var e=this,t=[],n=function(n){t.push(d.default.createElement(h.View,null,"image"==Object.keys(E[0])[n].substring(0,5)?d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:x.inputTitle},Object.keys(E[0])[n]),d.default.createElement(g.TouchableOpacity,{onPress:function(){return e.pickImage(Object.keys(E[0])[n])}},d.default.createElement(h.Text,{style:x.iconPick},1==e.state.show?d.default.createElement(h.Image,{style:{width:120,height:120},source:{uri:e.state["new"+Object.keys(E[0])[n]]}}):"Upload Image"))):d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:x.inputTitle},Object.keys(E[0])[n]),d.default.createElement(g.TextInput,{style:x.inputText,placeholder:Object.keys(E[0])[n],onChangeText:function(t){e.setState((0,l.default)({},"new"+Object.keys(E[0])[n],t))}}))))},r=1;r<w;r++)n(r);return t}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return"places"==b.substring(0,6)?d.default.createElement(h.ScrollView,{style:{width:h.Dimensions.get("window").width,marginHorizontal:"10%"}},this.addPlace(),d.default.createElement(g.TouchableOpacity,{style:x.addButton,onPress:function(){return e.onPressAdd()}},d.default.createElement(h.Text,{style:{fontWeight:"bold",color:"#fff"}},"ADD"))):d.default.createElement(h.ScrollView,{style:{width:h.Dimensions.get("window").width,marginHorizontal:"10%"}},this.addCategory(),d.default.createElement(g.TouchableOpacity,{style:x.addButton,onPress:function(){return e.onPressAdd()}},d.default.createElement(h.Text,{style:{fontWeight:"bold",color:"#fff"}},"ADD")))}}]),n}(d.Component);t.default=k;var x=h.StyleSheet.create({inputTitle:{fontWeight:"bold",marginVertical:10},inputText:{height:40,width:500,backgroundColor:"#fff",borderWidth:1,marginVertical:10,padding:10},imagePick:{width:300,height:175,backgroundColor:"#fff",borderStyle:"dashed",borderWidth:1,marginVertical:10,padding:10},iconPick:{textAlign:"center",width:200,height:200,backgroundColor:"#fff",borderStyle:"dashed",borderWidth:1,padding:40},addButton:{width:200,height:40,backgroundColor:"green",alignItems:"center",justifyContent:"center",marginVertical:10}})},911:function(e,t,n){var r=n(2),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(25)),l=a(n(12)),i=a(n(6)),c=a(n(8)),u=a(n(9)),f=a(n(7)),s=a(n(10)),d=r(n(1)),h=n(4),m=n(113),g=n(54),y=r(n(340));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var b=null,v=null,w=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var r;(0,i.default)(this,n),(r=t.call(this,e)).pickImage=function(e){var t,n;return o.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.default.awrap(y.launchImageLibraryAsync({mediaTypes:y.MediaTypeOptions.All,allowsEditing:!0,aspect:[4,3],quality:1}));case 3:(t=a.sent).cancelled||r.setState((n={},(0,l.default)(n,Object.keys(b)[e],t.uri),(0,l.default)(n,"show",!0),n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]],Promise)},r.deleteDoc=function(){m.db.collection(v).doc(b.id).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},r.updateDoc=function(){for(var e=function(e){void 0==r.state[Object.keys(b)[e]]?r.setState((0,l.default)({},Object.keys(b)[e],Object.values(b)[e])):console.log("DEFINED"),m.db.collection(v).doc(b.id).update((0,l.default)({},Object.keys(b)[e],r.state[Object.keys(b)[e]])).then((function(){console.log("Document successfully updated!"),this.setState((0,l.default)({},Object.keys(b)[e],""))})).catch((function(e){console.error("Error updating document: ",e)}))},t=1;t<Object.keys(b).length;t++)e(t)},r.state={show:!1,records:[]},r.allRecords=[];var a=r.props.route.params.collection,c=r.props.route.params.item;return v=a,console.log(a),b=c,console.log(b.id),r.ref=m.db.collection(a),r}return(0,c.default)(n,[{key:"componentWillUnmount",value:function(){}},{key:"myItem",value:function(){for(var e=this,t=[],n=function(n){t.push(d.default.createElement(h.View,null,"image"==Object.keys(b)[n].substring(0,5)||"icon"==Object.keys(b)[n].substring(0,4)?d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:E.inputTitle},Object.keys(b)[n]),d.default.createElement(g.TouchableOpacity,{style:{width:200,height:200},onPress:function(){return e.pickImage(n)}},d.default.createElement(h.Text,{style:E.iconPick},1==e.state.show?d.default.createElement(h.Image,{style:{width:120,height:120},source:{uri:e.state[Object.keys(b)[n]]}}):d.default.createElement(h.Image,{style:{width:120,height:120},source:{uri:Object.values(b)[n]}})))):d.default.createElement(h.View,null,d.default.createElement(h.Text,{style:E.inputTitle},Object.keys(b)[n]),d.default.createElement(g.TextInput,{style:E.inputText,defaultValue:Object.values(b)[n],onChangeText:function(t){e.setState((0,l.default)({},Object.keys(b)[n],t))}}))))},r=1;r<Object.keys(b).length;r++)n(r);return t}},{key:"render",value:function(){var e=this;return d.default.createElement(h.ScrollView,{style:{width:h.Dimensions.get("window").width,marginLeft:"10%"}},this.myItem(),d.default.createElement(h.View,{style:{flexDirection:"row"}},d.default.createElement(g.TouchableOpacity,{style:E.addButton,onPress:function(){return e.updateDoc(),e.props.navigation.push("Items",{collection:v})}},d.default.createElement(h.Text,{style:{fontWeight:"bold",color:"#fff"}},"SAVE")),d.default.createElement(g.TouchableOpacity,{style:{width:200,height:40,backgroundColor:"red",alignItems:"center",justifyContent:"center",marginVertical:10,marginLeft:10},onPress:function(){return e.deleteDoc(),e.props.navigation.push("Items",{collection:v})}},d.default.createElement(h.Text,{style:{fontWeight:"bold",color:"#fff"}},"DELETE"))))}}]),n}(d.Component);t.default=w;var E=h.StyleSheet.create({inputTitle:{fontWeight:"bold",marginVertical:10},inputText:{height:40,width:500,backgroundColor:"#fff",borderWidth:1,marginVertical:10,padding:10},inputTextDsc:{height:150,width:500,backgroundColor:"#fff",borderWidth:1,marginVertical:10,padding:10},imagePick:{width:300,height:175,backgroundColor:"#fff",borderStyle:"dashed",borderWidth:1,marginVertical:10,padding:10},iconPick:{width:200,height:200,backgroundColor:"#fff",borderStyle:"dashed",borderWidth:1,padding:40},addButton:{width:200,height:40,backgroundColor:"green",alignItems:"center",justifyContent:"center",marginVertical:10}})}},[[342,1,2]]]);
//# sourceMappingURL=app.26699836.chunk.js.map